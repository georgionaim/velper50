# Velper50
## Video demo: https://youtu.be/xf7o-nIl_KM
## Description:

#### Introduction

Welcome to the first version of the vocabulary helper named velper50! Velper50 is a web application written with PYTHON and with the help of HTML for the web pages, CSS for all that is visual humanly, with a little JAVASCRIPT to make the application dynamic, SQL for the application database, and finally JINJA which helped me to display the data to the user. This connection between these languages was possible with the help of FLASK which helped me to weave links between these powers of technology. The application is simple, but with an extraordinary power for knowledge. This algorithm aims to help every student in any category related to memorization. It has techniques and plans scientifically proven to be infallible for memorization and intelligence improvement. Personally, this project is very important for me, so I tried as much as possible to mix the art of learning with the art of programming to offer the best satisfying and useful result.  This project can be a revolution for the learning side which nowadays, starts to be out of fashion when we become aware of all these computer novelties that offers internet like velper50!

#### Goal

This application was a challenge for me who personally didn't think I could accomplish such a feat. My goal in writing the algorithm was to make every student smile during those boring memorization periods, so that they can understand what they have to memorize with easy and understandable techniques. To increase the performance, I have used some APIs to maximize the chances of success of a complete and clean result. This project will be really useful for every user who has difficulty learning or memorizing. The capabilities of this program do not stop here, it can be used for any unintelligible  word, sentence or even text.

#### Current actions

This application includes several useful functions such as a table capable of storing all words and definitions in need of memorization or even need of understanding. The user will be able to add, remove, modify and even add definitions found on the net which is implemented with the help of an API. Then, when finalizing the table, the user will have the ability to extract the summary of a paragraph, sentence, or even text, or even extract the key words of that definition as well set up with the help of an API. And moreover, he will be able to add its own description or note for one of the definition of the table, this method will have for goal to let the user express the meaning of the definition with its own words and expressions, so that it tests itself on its knowledge related to this definition in question. And of course all the results will be saved for the next time he visits this site.

#### Code in general

First, the user will be able to create a new account or log in if he's already registered, then he will be directed to the home page which is the location of the definition table, it contain a vertical bar which contains the table, the memorizing helpers, a history for the words and definitions removed, a saver table and of course a button to log out of his current account. And also a vertical bar for all functions related to the definition table like manual definition addition, definition removal, definition modification and automatic definition addition. In the tab of memorizing helpers, three functions are set up: extracting summary, extracting keyword and personal description (functions already presented in the previous paragraph). The history tab contains a table showing all the words removed from the main table with their definition and the time of their removal, the user will be able to add them back to the table or even delete them completely. The saver table tab also contains a table, showing each function used and saved. The log out tab is simply to expel the user from the account and ask him to register again.

#### Quick lookup

##### flask_session
All user cache and data record for each user containing for example his id which will be useful when we will have to look for any information on this user.

##### static
Files static, that is immobile, generally used for all that is icon and image placed in the background of the site or as an icon for the site. Also this folder contains all that is aesthetic and design for the site contained in a .CSS file.
##### templates
.HTML pages that will be used as dynamic display to communicate with the user through methods of connection between the user, the database, the pages, and python.

##### App.py
The heart of the application. App.py controls any page and action used according to the user's choice. This choice can be for example to give the user a specific page, or even to check a data given by the user.

##### Helpers.py
Contains some useful functions that will be used in app.py

##### Requirement.txt
Contains all the libraries required for the creation of this project

##### Tests.py
Personally, used to test some possibilities and solve some errors

##### vocab.db
Contains 4 database with all user information like user functions used, definitions added and more...

### lookup in details

#### 1-Static

##### brainV.ico
The icon of the site (a black brain with a big V in the middle, sign of velper50)

##### crying-man.png
The background that will be used for each error triggered by the user

##### styles.css
First we set the pages background to be light green (#b6fcae), then we specify the sidebar properties which include its width, height, position which is fixed, its color which is a black (#111). The aestetic properties of the buttons on this navbar are specified: the space that surrounds them (6px 8px 6px 16px), the deactivation of the text decorations, the font size of the writing (25px), their color (#818181), the color when the mouse approaches this button which is a white (f1f1f1), the color of the title of this navbar which is also white (#fff). Then we have the arrangement and position of the menu items and the maximum space that can be filled (1200px). And set the sidenav to have a space at the top (15px) and the font size of the buttons on it are smaller (25px -> 18px). The width of the definitions is set to 70%, the result table will have a thick black border (5px), the text position will be on the left, the space all around the result table will be 50px. We also specify some small classes like "left-align" which will position the text on the left, "error-message" which will have a background image (static/crying-man.png ), "red-color" which will convert the text color to red,
and "about" which will set the about page background to be a light green(#7AFF7F),a large space in the top for a text in the middle and set the text to be centered.

##### V-no-png
Which is the logo of the site placed at the top left of the site

#### 2-Templates

##### About.html

This html file is different from the others because it uses different parameters: that's why I didn't use Jinja to connect it to "layout.html" which is the mold for all pages of this site. "About.html" use an utf-8 encryption, it is flexible to any device with a meta tag named viewport, we will use the aesthetic already prepared by Bootstrap which is a gallery used for all javascript possibilities and css class already prepared. It will have an icon already prepared in "static/brainV.ico" and will be connected to my own CSS properties already prepared in "static/styles.css", and will have as title "About the site". Its role will be to give a short summary about this site. In the body of this page, the text will be in the middle, and will have as background a light green (already prepared in styles.css), it will contain a text as title : Velper50, and  the fruit of this paragraph will contain all the essential information that the user has to know about this site and a button that will redirect him to the registration page or the main menu if already registered. This button will use post method for security.

##### Add.html

This html file will be the main block of the page "layout.html" which is the mold for each page, and will have as title "Add". This page is one of the possible actions on the table which will have the role to add words and definitions in the table which is a data base in vocab.db named vocab. In the body, a small description for this page is put. Then a small remark has been placed that forces the user to put an underscore if a compound word wants to be added. This principle was put in place to catch errors outside my control field. A form will then be present for the text user which will redirect the user to the /add action with a post method. It will contain a space where the user will have to enter the word of his definition, this space has been named word with the name attribute. This information will be very important for the data exchange between the page and the server. Then a large space of 100 column and 10 line is placed for the user to enter his definition, paragraph or text. This space is called definition. Then we will have a submit button that when activated, will send to the server all data entered by the user.

##### Archive.html

This html file is a part connected to the main "layout.html" mold, which will have the title "Archive". This page will act as a recycle bin for any word deleted from the table. In the body, if the deletion history is empty, a text saying "Empty History" will be displayed in the middle in dark black color. Otherwise, the body will start by displaying the title which is "Archive", then a whiteboard placed in the middle will be displayed with 3 columns : Word, Definition, Time Removed. The definition column will be wider than the others because of its size (width: 70%). Then in each line Jinja will loop over each word in a dictionary list containing a word, definition, and time removed and display them. Next to each line will be placed two buttons: the first one will be a form button that will execute "/recover" with a post method that will send to the server the request to recover this word. The second button will also be a button form that will execute /delete with a post method that will send to the server the request to permanently delete this word. These two forms will send the word, and the definition which are hidden with an input tag.

##### Description.html

This html file is a part connected to the main mold "layout.html", which will have as title "Own Description". This page will have the role of one of the functions that velper50 offers which is the personal description (mentioned in a previous paragraph). The body will start with a description to this function placed at the top of the body on the left. Then a form will execute "/save" when submitting with a post method, it will start by offering the user the choice of the word found in the table with the help of jinja loop that will loop on each word and suggest it by a select tag that has the name of Word. And then a large space will be displayed for the user to enter his description. An input tag has been opened as well to declare the type of this function which is in this case description, this input will be of course of type hidden. And finally a button is placed to submit the word and the description that will be sent to the server.

##### Edit.html

This html file is a part connected to the main mold "layout.html", which will have as title "Edit". This page will have the role of one of the actions that can be done on the table, which is the modification of definitions present in the main table. The body starts with a title positioned on the left and on top of the body. Then a form is opened with the action "/edit" which will be executed as a post request. It contains a part where the user will have to select the word to modify with a jinja loop that loops on each word and displays them as an option in a select tag. And another part is put containing a large area of 10 rows and 100 columns where the user will enter the new definition. This area is called new_definition. And finally, the page contains a button to submit the new definition and thus send it to the server to execute the request.

##### Error.html
This html file is different from the others because it uses different parameters: that's why I didn't use Jinja to connect it to "layout.html". Error.html use an utf-8 encryption, it is flexible to any device with a meta tag named viewport. We will use the aestetics already prepared by the Bootstap gallery. It will have an icon already prepared in "static/brainV.ico" and will be connected to my own CSS properties already prepared in static/styles.css, and will have as title Error: {{message}} where message will be the description of the error sent by the server. This page will have the role to protect the user from internal server error which will be very frequent if for example, the user gives a word inexistent in the database or a name already taken in the database. It is also a powerful technique against hacking of html site. It's error will do the job to stop the problem by pointing out to the user this error in question. In the body, the class attribute will contain error-message which is a class already prepared in "static/styles.css" which has the purpose to put as background the photo.png already saved (static/crying-man.png). At the top middle of the page will be placed a large title containing the description of the error in white introduced by jinja that was returned by the server.

##### Index.html
This html file is a part connected to the main mold "layout.html", which will have as title "Table". This page is the main root of the site. Indeed, this page is the heart of any other page because it is the source of connection to any other page of this project. Its role is to display the word table and definitions save and greet the user if this is his first visit to his account. The body of this page starts with a greeting if it's his first visit: This logic has been applied and written in Javascript, the script starts by importing another javascript code written by SweetAlert which is a site that offers nice personalized messages, then with an input tag, we will record the name of the user. The input tag will have as id "username", then we call the function "swal" which takes as parameter a dictionary containing the title, the description and the form of the message icon. Then we call the "fetch" function integrated in javascript which will execute "/finish_greet" which is a request to the server via post. This request will prevent the repetition of the greeting several times. Then if the user has not entered any word yet, the menu will display "Empty Table" in the middle. Otherwise, it will display a table with two columns: the word and the definition. Then for each line jinja will loop through a list containing several dictionaries; each dictionary will contain a word and a definition. Each iteration will display a line.

##### Keyword.html
This html file is a part connected to the main "layout.html" template, which will have as title "Keywords". This page will be one of the functions that velper50 offers to extract keywords from a sentence or a text. The body will start with a description of this function placed on the left at the top of the body. Then a form is opened that will run "/keywords" via post. This one will propose all the words in the main table (vocab.db -> vocab) and will suggest to the user each word by a jinja loop that will loop on each word and display it by an "option" tag. And to conclude with a button that will submit the data and send it to the server

##### Keyword_result.html
This html file is a part connected to the main mold "layout.html", which will have as title "Keywords Results". This page will be the result given by the keyword function (already explained in a previous paragraph), the user will have the possibility to save the results in a very precise database for any result (vocab.db -> saver). The body of the page starts with a title "Keywords Results:". Then a frame defined by myself in "static/styles.css" will be displayed. This frame will have a thick black border, the text position will be directed to the left and the space around the frame will be 50px (already explained). Then this frame will contain each keyword found with a jinja loop, each on a line. Then an action form "/save", which has the form of a button will be present for recording the results obtained via post. The server will receive the word, the result and the type which is in this case "keywords". And obviously if no keyword was found, the algorithm will display "No result Founds" in the middle.

##### Layout.html
This html file is the general form of most pages on this site. Layout.html is the mold that creates copies of itself with custom properties for each copy. It will never be requested by itself but any other .html file will use it. This code starts by prescribing the encryption technique which is utf-8, and continues by prescribing the flexible extension of the page according to the device. Of course each page will use classes already prepared by the Bootstrap gallery, will have as icon the site logo (static/brainV.ico) of size 16x16 and finally will be connected to my own CSS properties already written in (static/styles.css). The title of each page will be according to the {block title} that each page will define with the help of a Jinja possibility: The title will start with {Velper50:} and will continue according to each page.

The head of any page will be defined in this way. The body color of the pages will be  light green ( #b6fcae already prepared in static/styles.css). At the top of the page, a vertical navbar will be added that will be fixed, with light red color. It will start on the left and will contain a link to the page "/about" (already explained in a previous paragraph) of height and width 100px. Then a hidden button will be present in case the user minimize the page, this principle will be present for the best possible position for each element of the page. This button will have the form of cubes which has been placed with the help of the unicode table (html code: &#128918). Then the buttons will be placed according to the location of the user in the site: If an id is saved in the session of the user  : a list of five vertical links will appear. The first item will be a link to the home page "/" so the table of words and definitions saved, it will be named "Table". The second item will direct the user to the functions that can be performed on the definitions. It will be a link to the first useful function which is "/summarize" and will be named "Memorizing Helps". The third one will send it to its deletion history, so to "/archive". It will be named "Archive". The fourth one will be a link to the page of the helps saved. It will be named "Help Saver". And finally all on the right of the top of the page, a link to the logout method which will redirect it to the registration page by the action "/logout" and remove the user session id. If no id has been found for the user in the session which is usually the case when the user has just entered the site or has logged out: Two links will be present at the top of the page. The first one will be a link to the "/register" page so the user can register on a new account. The second and last one will be where the user can log in to an account already registered in the database (vocab.db: users).

Two sidenav can be placed in several pages according to a condition using jinja: the first one will be the sidenav of the main menu which will have as title "Home Actions" and will contain four horizontal links: "Add, Search, Remove, Edit" which are the actions that can be done on the table. The second will be the sidenav of the help menu which will have as title "Helpers Actions" and will have three horizontal links: "Summarize Definition, Definitions Keywords, Own descriptions" which are three functions that can be applied on the definitions. Finally, the main part of this page will also depend on the presence of a bar or not. This division has been essential for the correct placement of the elements on the page depending of the already taken space . This part will vary according to each page.

##### Login.html
This html file is a part connected to the main mold "layout.html" but will not use any navbar. It will have the title "Login". This page will have the role of identifying the user to an old registered account. A message to the user will be put at the top and middle of the body that says "Welcome Back!" Then it will open a form that will activate "/login" via post. This form will start by asking the user for their username and password via two inputs tag. The password will be of a specific type to hide the password entered for account security. These two inputs are named respectively "username" and "password". Then a button will be placed that will activate the request. It will send to the server the username and password of the user.

##### Register.html
This html file is a part connected to the main mold "layout.html" but will not use any navbar. It will have the title "Register". This page will have as role to register the user to a new account. A message to the user will be put at the top and middle of the body that says "Welcome! Then it will open a form that will activate "/register" via post and when the submit button is pressed, it will trigger a function written after the form tag. This form will start by asking the user for their username and password via two inputs tags. The password will be of a specific type to hide the password entered for account security. These two inputs are named respectively "username" and "password". Then an empty place for a password error is put. And finally a button that will activate the request will be placed. It will send to the server the new username and password of the user if no errors found.

During the submission a function named "verifyPassword()" will be triggered, its role is to test the security of the password written by the user. It will start by synchronizing a variable named "pw" to be the value of the html element having an id: "password" and a second variable named "msg" which will contain a message saying the properties of a secure password. If the number of characters in pw (which is the password) is less than 8 characters or pw does not contain any lowercase letters (set up with the help of a regex expression that will return true if one of the characters in the password is lowercase, otherwise it will return false) or pw does not contain any uppercase letters (set up in the same way as for lowercase letters) or pw does not contain any digits (set up in the same way as for lowercase letters): The variable "msg" will appear in red above the password and the function will return false so that the form does not execute the action "/register" with an incomplete password.

##### Remove.html
This html file is a part connected to the main mold "layout.html" which will have as title "Remove". The page will have as role to delete words and definitions saved in the database by choosing the word to delete. The body starts with a small description of the page. Then a form will be open that will activate "/remove" via post and will first contain a select tag containing the words found in the user's table set up by a jinja loop. This select tag is called word. And then the submit button will be placed which will have as value "Remove" of type "submit" which will be the connection button between the page and the Flask server.


##### Saves.html
This html file is a part connected to the main mold "layout.html" and does not contain any bar because it is independent from the other pages. Its title is "Help Saver". This page contains a table containing every word and result obtained by the helper functions which are stored in a specific database for them (vocab.db -> saver.db). The bodywill have two paths it can take: If the user has not saved any results, the menu will display "Empty Table" in the middle. Otherwise, it will display a table containing 3 columns: The first column will be the type of the function used (summarize, keywords, own description). The second one will be the word where this function has been applied. And the last column will be the result obtained by this type of functions applied on the word. Then for each line, jinja will loop over a list containing several dictionaries each containing a type, a word and a result. Each iteration will display a row. Each row will have form button that will execute "/completed" via post. This form will only remove the definition from the table when the user no longer needs it. It will contain the word and type of the line as a hidden input and a green button (#1CF015) will be placed next to each line.

##### Search_result.html
This html file is a part connected to the main mold "layout.html" which will be named "Search result". This page will contain the results obtained from the search method which will search for online definitions. It will also contain the possibility to save one of the definitions obtained in the main table by selecting the  index in the list. The body will start by displaying a title which will be "Result for {{word}}" where word will be the word entered by the user. Then an unordered list will be presented. This dictionnarie will contain as items the results obtained by the method. Jinja will loop over each definition stored in a dictionaries containing the index of the definition as a key and the definition as a value {x : definition}.For each row, the loop will display the index incremented by 1 (because the computer index starts with 0 when it should start with 1 when displayed) with the definition found.
Then a form will be opened that will activate "/save_def" via post. This form will have as role to transfer the definition chosen by the user for the server to save it. First, a select tag named "definition_number" will contain as options each number contained in the results. This logic has been implemented with a jinja loop that will loop on each number in "definitions.keys" (because definitions is a dictionary containing as key the index and the definition as value) and of course the loop will display the number incremented by 1 (for reasons already explained) . It will also have a hidden input tag that will contain the word entered by the user. And a "submit" button with a "save" value will be placed so that any data in the form is be transferred to the server.

##### Search.html
This html file is a part connected to the main mold "layout.html" which will be named "Search". It will ask the user to enter any name in English and send it to the server to determine its definition. It starts with a small description on this page. Then a form will run that will activate "/search" via post. It will start by asking the user for a word of their choice in English by an input tag called "word" and it will end with a button that will execute this form by sending the server "word" which is the word written by the user.

##### Summarize_result.html
This html file is a part connected to the main mold "layout.html" which will be the result of the function "summarize". The user will be able to save this result in the saver table. This page will have the title "Summarize Result". It will start by choosing between two choices: The page will display "No result found" if the result of the function is the same as the definition. Otherwise it will display a frame (already explained in static/styles.css) defined by myself which will contain the result of the sentence aligned in the middle of the frame. And finally, below it will be added a button form that will activate "/save" via post. This action will send to the server 3 imperative data for the save. The first one will be the word related to the definition that has been summarized. The second one will be the result obtained by this function, and the last one will contain the type of the function used which in this case will be "summarize". These three information will be stored in 3 different hidden inputs tag. And finally a button for the submit will be displayed which will have as type "submit" and "save" as value.


##### Summarize.html
This html file is a part connected to the main mold "layout.html" which will be the first function that can be performed on the table definitions. It will be named "Summarize". This page will ask the user to select a word found in his table and send it to the server to determine its summary in some words. The body will start with a small description on this page. Then a small remark will be placed that advises the user to give a high number of words (as this function will not be able to return the summary of a small sentence). Then a form that executes "/search" via post will start with a select tag named word containing the words found in the table. Then the submit button with the value "Summarize" will be ready to be activated for the data transfer.

#### 3- App.py
The core of this project will use some essential libraries: it will use SQL from the cs50 library for the interaction with the database, from flask it will use Flask, redirect, render_template, request, session for all that is related to the connection between the application and the html pages, displays and sessions. It will use check_password_hash and generate_password_hash from the wergzeug.security library for all that is password encryption and will use some useful function in helpers (explained in the following paragraphs) defined by myself.

The code will start by synchronizing the flask application that will be stored in an instance named "app" with the Flask class. App will be a class that will have several methods. Each template of this project will be configured to be automatically reloaded. The session of each user will not be permanent and will be stored in a file reserved for this session on the hard disk of each user. Then with the Session class we define the session of each user. Then we will connect the database to the application with the SQL class that will be stored in the "db" instance. Then we will have some parameter adjustment that uses a decorator to this application with the "after_request" method. This function ensures responses aren't cached.

##### Login
This function will be executed when an html page sends a request for a "/login" action to the server. Login can be used via the post method (by submitting a form via get) and get (as by clicking a link or via redirect). This function will enter the user into his account already registered in the database. It will first forget any open session in its file. If the type of request is post: We extract the username and password entered by the user with the form method (as it is a request via post). Then we make sure that the user has filled each frame of the page and if not, we return an error which is a function in helpers that takes a message as argument. Then we interact with the database (with the "execute" method) so that it returns the row of the database where the username matches the username entered by the user. An error will be displayed if no row has been found in the database with this username or the password registered in the database does not match the password entered in the page (with the "check_user_hash" method). If all goes well, we will save a new session file containing the user id and redirect the user to the home page via "/". If the type of request is get: we will return the log in page with the "render_template" function.

##### Logout
This function will run when an html page sends a request to the server for a "/logout" action. Logout can only be used via get method (as by clicking a link or via redirect). It will first forget any registered session and will redirect the user to the "/" route which in turn will redirect the user to the registry page as no id will be found.

##### Register
This function will be execute when an html page sends a request to the server for a "/register" action. Register can be used via the post method (by submitting a form via post) and get (as by clicking a link or via redirect). Its role will be to add and remember a new account in the database created by the user. If the type of the request is post: We will start by extracting the boxes filled by the user (username and password), if the user has forgotten to fill one of the boxes, an error will be returned. Another error will be returned if the username entered is already found in the database (This system was set up to not confuse accounts and for a unique username to each user). Then the variable "hash_password" will contain the hashed password entered and we will add to the database "user" a new row containing the information filled by the user. The "person_id" variable will contain the id of the user found in the database. We will remember the user id in the session. And finally we will direct the user to the main menu. If the type of request is get, we will first forget all the sessions and return the registration page "register.html".

##### Greet_finished
This function will be executed when an html page sends to the server a "/finished_greet" action request. Greet_finished can only be used via the post method (which will be sent via the Javascript fetch function). A decorator that requires the user to log in to an account will be set (otherwise it will redirect him to the registration page). This decorator is a function defined in helpers. The function will first adjust one of the keys in the session so that the welcome message does not repeat itself over and over again. Then it will redirect the user to the home page with the redirect method.

##### Index
This function will be executed when an html page sends to the server a request for a "/" action.  Index can only be used via the get method (as by clicking a link or via redirect). A decorator is placed for the log in obligation. This route is the main route that will return the main menu. The "greet_entry" variable will be synchronized to be True if it is the first time the user enters the home page. The id of the user registered in the session is assigned to a variable named "user_id". The "dictionary" variable will contain a list of dictionaries that will contain words and definitions that the user has added to his table. The variable "name" will contain the username of the user. Then we will return the main page "index.html" with some variables: the dictionary of words and definitions, the variable home which will be used to place the bar of the main menu, len_dict which will contain the number of dictionaries found in the database, greet_entry which will be True or False depending on the user and finally name which will contain the username of the user.

##### Add
This function will be executed when an html page sends to the server a request for action "/add". "Add" can be used via the get method (as by clicking a link or via redirect) or via post( by submitting a form via post). A decorator is placed for the log in requirement. This function will manually add a word and a definition to the user table. The "user_id" variable contains the id of the registered user. If the type of the request is post: We will start by extracting the word and the definition. An error will be returned if one of the boxes has not been filled in or if a space has been found in the word (this system prevents communication errors between the application and the pages during data transfer). A third error will be returned if the word entered is already saved in the database. If all goes well, we will add a new row in the database containing the user id, the new word and the new definition. And finally we will redirect the user to the home page. If the request is of type get: We will return the page where the user will be able to add a word "add.html" with the argument "home=True" so that the home page is placed.

##### Search
This function will be executed when an html page sends to the server a request for action "/search". "Search" can be used via the get method (as by clicking a link or via redirect) or via post (by submitting a form via post). A decorator is placed for the log in obligation. This function will search for the definition of a given word and return the results to another page. If the request type is post: We will first extract the word given by the user. The variable "all_definitions" contains the result of a function defined in helpers which takes as parameter a word and will return several definitions in the form of a list. The helpers function will return "error" if an error occurred while parsing the word. If it is the case, then an error will appear. The "definitions" variable will contain the definitions to return. But a loop has been placed to iterate over the first 9 definitions (so 10 humanly) to avoid cluttering the page with useless definitions. The definitions variable will be of type dictionaries which will contain as the index of the definition as key and the definition as value. Finally we will return the results page which is "search_result.html" with as parameters : The dictionary of definitions, "home=True" so that the home bar is placed and the word searched.

##### Save_def
This function will be execute when an html page sends a request to the server for a "/save_def" action. "Save_def" can only be used via post( by submitting a form via post). A decorator is placed for the log in obligation. This function will automatically save the definition in the user's table. It will start defining the "user_id" variable which contains the user id. Then we will extract the word searched and the index chosen for save (read the paragraph of "search_result" to understand the index system). An error will be generated if the user has not provided any number. Another error will be generated if the word to be registered is already found in the table. Def_number will contain the index that start from 0. The definition variable will contain the definition to be registered found by the "search_word" function (specified by the obtained index). Each space will be replaced by an underscore if the word contains multiple words (for reasons already explained). Then we will add to the user's table the new definition of the word we are looking for. Finally we will redirect the user to the home page.

##### Remove
This function will be executed when an html page sends to the server a request for action "/remove". "Remove" can be used via the get method (as by clicking a link or via redirect) or via post( by submitting a form via post). A decorator is placed for the log in obligation. This function delete a selected word from the table (this action will also delete every result of the definition obtained in the savers help table) and add it to the history of words and definitions removed. The user_id variable contains the id of the user. If the type of request is post: first we extract the chosen word, then we look for its definition in the user's table. The function will return an error if the word has not been found in the table. If all goes well, we will delete the word with its definition from the main table and from the table of savers help. Then we will add the word and its definition to the history so that the user has one last chance to recover them. Finally we will redirect the user to the home page. If the type of request is get: we will start by finding all the words saved in the user's table and store them in a variable named words and return the page "remove.html" with the argument "home" which will be True for the home bar and the words found.

##### Edit
This function will be executed when an html page sends a request to the server for an action "/edit". "Edit" can be used via the get method (as by clicking a link or via redirect) or via post (by submitting a form via post). A decorator is placed for the log in obligation. This function will modify a definition of a given word. The "user_id" variable contains the user id. If request type is post : We will first extract the selected word with its new definition. An error will be produced if the user returns an empty box to the server or if the selected word has not been found in the database. If all goes well, we will update the definition of the selected word to be the new definition written. And the word will be deleted from the saver table because the definition will have changed. Finally we will redirect the user to the home page. If request type is get : We will first search for any word registered in the user's database and then return the page "edit.html" with the argument "home=True" for the home bar and the words found.

##### Archive
This function will be executed when an html page sends to the server a request for the action "/archive". The "archive" can be used via the get method only (as by clicking a link or via redirect). A decorator is placed for the log in obligation. This function will return a page containing the table of words and definitions deleted. The function starts by extracting all rows from the database named "history" (explained in the paragraphs below) that belong to the user and then returns the table page ("archive.html") with 2 arguments, the dictionary containing each row found, and "len_dict" which is the number of rows found.

##### Recover_history
This function will run when an html page sends a request to the server for a "/recover" action. "Recover_history" can only be used via post (by submitting a form via post). A decorator is placed for the log in obligation. This function has the role of adding the word and its definition to the main table. The function starts by defining some variables: "user_id" which contains the user id, "word" which is the word sent by the html page and "definition" which is also the definition sent by the page. An error will be produced if the word the user is trying to add is found in the main table. Then if no error was found, the application will add the word and the definition to the main table and delete them from the deletion table. Finally it will redirect the user to the main menu.

##### Delete_history
This function will be execute when an html page sends a request to the server for a "/delete" action. "Delete_history" can only be used via post (by submitting a form via post). A decorator is placed for the log in requirement. This function will definitely delete a word and cannot be found again. This function is irreversible. The function will start by specifying the user id and will extract the chosen word to be deleted.  Then we will delete from the "history" database the row that contains this word. Finally we will redirect the user to the deletion archive page.

##### About
This function will be executed when an html page sends to the server a request for action "/about". "About" can be used via the get method (as by clicking a link or via redirect) or via post (by submitting a form via post). This function will only display a small description to this web application and it can be accessed without logging in. The user will be redirected to the main menu in case the type request is post and if the user enters via the link: then he will be redirected to the page "about.html".

##### Summarize
This function will be executed when an html page sends to the server a "/summarize" action request. "Summarize" can be used via the get method (as by clicking a link or via redirect) or via post( by submitting a form via post). A decorator is placed for the log in obligation. Summarize is one of the useful functions offered by velper50. It returns the summary of a sentence or text. A variable named "same" has the value False. "Same" will be used afterwards to check an error. If request type is post : First we extract the chosen word, then we look for its definition in the database which will be stored in a variable named "definition". An error will be produced if no definition has been found. Then the variable "summarize" will contain the summary of the definition obtained through a function defined in helpers. An error will be displayed if an error was detected when the function was activated (the error will depend on the value returned by the function). The variable "same" will be changed to "True" if the result of the summary obtained is identical to the definition. And finally we will return the page "summarize_result.html ", that will display the result with as argument : the result obtained by the function summarize, the word, " Help = True " for the help bar, and the variable same. If request type is get : The function will start to search for all the words present in the user's database and store them in a variable named "words". To finally return the page "summarize.html" with the argument: "help=True" for the help bar and the words found.

##### Saver
This function will be executed when an html page sends the server a request for a "/saver" action. "Saver" can be used via the get method only (as by clicking a link or via redirect). A decorator is placed for the log in obligation. This function will return a page containing a table of all results obtained by any of the three functions saved. The function starts by specifying the user's id and will select any row found in the user's saver database. Then it will return the page "saves.html" with as argument all rows found and "len_sv" which will contain the number of rows found.

##### Save_help
This function will be executed when an html page sends a "/save" action request to the server. "Save_help" can only be used via post( by submitting a form via post). A decorator is placed for the log in obligation. This function will be used always used to save any result obtained from one of the velper50 functions. The code starts by determining the user id and continues by extracting the type of function used, the word, and the result obtained by this definition. An error will occur if no word has been prescribed. If the type of function is "description", and the word chosen is already in the saver table of type "description" then the result will be modified to become the new description written by the user and it will redirect him to the saver table. Otherwise, we will add a new row with the word, type and result obtained. Then we will redirect the user to the saver table.

##### Completed
This function will be executed when an html page sends to the server a request for action "/completed". "Completed" can only be used via post (by submitting a form via post). A decorator is placed for the log in obligation. This function will definitely delete a result obtained by a veper50 function. This method is irreversible. The function will start by specifying the user id and will extract the chosen word to be deleted with its type.  Then we will delete from the database "saver" the row that contains this word with this type. Finally we will redirect the user to the saver table.

##### Keywords
This function will be executed when an html page sends to the server a request for a "/keywords" action. "Keywords" can be used via the get method (as by clicking a link or via redirect) or via post( by submitting a form via post). A decorator is placed for the log in obligation. "Keywords" is one of the useful functions offered by velper50 that can extract the keywords from a sentence, from a text. First we assign an empty set to a "keys" variable (the use of a set is to remove duplicates) and then we determine the user id. If request type is post : first we extract the word chosen by the user. An error will be triggered if no word was given. The variable "definition" will contain the definition of the chosen word. The variable "keywords" will contain the keywords extract from the definition obtained with a function defined in helpers that will return a .json response. We will loop on each keyword obtained by the definition and add it to "keys" (which will not contain duplicates because of its type), if "keys" is empty after the iteration then no key was found so the variable keys will be equal to "None". And finally we will display the results of this function with "keywords_results.html", which will have a help bar .If request type is get : We will start by searching all words present in the user database and we will return the page "keyword.html" with as argument the words found which are stored in word and which will have a help bar.

##### Description
This function will be executed when an html page sends to the server a "/description" action request. "Description" can be used via the get method only (as by clicking a link or via redirect). A decorator is placed for the log in obligation. This function will be one of the velper50 functions. Its purpose is to let the user express himself with his own words and explain the meaning of the definition by himself. It will start by determining the id of the user and search for all existing words in its main table to finally return the page "description.html" which contains the free space of expression. It will of course have as argument the words found and the helpbar.


#### Helpers.py
Helpers.py will contain 5 imperative definitions for the realization of the main code (app.py). It will use some important libraries like flask, for redirect, render_template and session or the request library or wraps of the functools library for decorators.

##### Error(message)
This function is used to return an error when the code detects an error. It will take as parameter a message to write to the user and will return: "error.html" with the message that should be displayed to the user.

##### Login_required(f)
This function blocks the user from accessing pages if he is not logged in. It will take as argument another function to wrap it. This function contains another function which is "decorated_function" which will play the role of the checker. The user will be directed to the registration page if no user_id was found in the user's session. Otherwise, decorated_function will return the function that was wrapped and login_required will return the function as it is.

##### Search_word(word)
This function will return several definitions of the word specified as a parameter. The function will try to connect to an API that will return the response in the form .json. The "definitions_result" variable will contain the definitions obtained from the response through some for loops. If an error is detected during the loop iterations, the function will return "error" but if everything goes well the function will return the list of definitions found.

##### Summarize(sentence)
This function will return the summary of a sentence or a word specified by the function's parameter: "sentence". This function has been taken from a oneai function that will return a .json response.

##### Keywords(sentence)
This function is similar to summarize but will return the keywords of a text or a sentence that is also prescribed by the function: "sentence". This function has been taken from a function of oneai that will return a .json response.


#### vocab.db
Vocab.db is the database of this site. It contains 4 important databases:

Users : This table contains all information about the user : his username, his id and his password (in hashed mode), it will often be used for the id of the user and his username. We notice that the id box will be autoincrement and it is a primary key.

Vocab: This table contains the words and definitions that the user has added through the GUI. It will also contain the id of the user. We notice that in this database, user_id is a reference for the id column in the users table

History: This table contains all words and definitions that the user has deleted from his main table (vocab).  It will contain the id of the user who made the change (which is a common column with the id column in (user)), the word, the definition and the time the user deleted it. Note that time is a timestamp which is by default.

Saver: This table contains words and results that the user has recorded with the velper50 functions. It will contain the id of the user who performed this action (which is a common column with the id column in (user)), the type of help, the word and the result.

